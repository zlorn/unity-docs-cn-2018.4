<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Unity Test Runner - Unity 手册">
<title>Unity Test Runner - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2018.4/uploads/Main/UnityTestRunner-0.png">
<meta name="description" content="The Unity Test Runner is a tool that tests your code in both Edit mode and Play mode, and also on target platforms such as Standalone, Android, or iOS.">
<meta property="og:description" content="The Unity Test Runner is a tool that tests your code in both Edit mode and Play mode, and also on target platforms such as Standalone, Android, or iOS.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'testing-editortestsrunner';
      if(!page) page = 'index';
      var version = '2018.4';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2018.4/Manual/testing-editortestsrunner.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2018.4/Manual/testing-editortestsrunner.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2018.4/Manual/testing-editortestsrunner.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2018.4/Manual/testing-editortestsrunner.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2018.4/Manual/testing-editortestsrunner.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2018.4/Manual/testing-editortestsrunner.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2018.4/Manual/testing-editortestsrunner.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2018.4/Documentation/Manual/testing-editortestsrunner.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/testing-editortestsrunner.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/testing-editortestsrunner.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/testing-editortestsrunner.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/testing-editortestsrunner.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/testing-editortestsrunner.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/testing-editortestsrunner.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/testing-editortestsrunner.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/testing-editortestsrunner.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/testing-editortestsrunner.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/testing-editortestsrunner.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/testing-editortestsrunner.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/testing-editortestsrunner.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/testing-editortestsrunner.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/testing-editortestsrunner.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/testing-editortestsrunner.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/testing-editortestsrunner.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/testing-editortestsrunner.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/testing-editortestsrunner.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/testing-editortestsrunner.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/testing-editortestsrunner.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p></p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p></p></li></div>
</ul>
<ul class="description">
<li><div class="supported-box"></div></li>
<li><div class="legacy-box"></div></li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2018.4/Documentation/Manual/testing-editortestsrunner.html">English</a></li>
<li><a data-lang="cn" href="/cn/2018.4/Manual/testing-editortestsrunner.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2018.4/Manual/testing-editortestsrunner.html">日本語</a></li>
<li><a data-lang="es" href="/es/2018.4/Manual/testing-editortestsrunner.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2018.4/Manual/testing-editortestsrunner.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2018.4/Manual/testing-editortestsrunner.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2018.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/testing-editortestsrunner.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/testing-editortestsrunner.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/testing-editortestsrunner.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/testing-editortestsrunner.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/testing-editortestsrunner.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/testing-editortestsrunner.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/testing-editortestsrunner.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/testing-editortestsrunner.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/testing-editortestsrunner.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/testing-editortestsrunner.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/testing-editortestsrunner.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/testing-editortestsrunner.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/testing-editortestsrunner.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/testing-editortestsrunner.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/testing-editortestsrunner.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/testing-editortestsrunner.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/testing-editortestsrunner.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/testing-editortestsrunner.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/testing-editortestsrunner.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/testing-editortestsrunner.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p></p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p></p></li></div>
</ul>
<ul class="description">
<li><div class="supported-box"></div></li>
<li><div class="legacy-box"></div></li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2018.4)</a></li>
<li><a href="ScriptingSection.html">脚本</a></li>
<li><a href="ScriptingTools.html">脚本工具</a></li>
<li>Unity Test Runner</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="LogFiles.html"></a></span><div class="tip">日志文件</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="PlaymodeTestFramework.html"></a></span><div class="tip">在 Unity Test Runner 中编写和执行测试</div>
</div>
</div></div>
<h1>Unity Test Runner</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The Unity Test Runner is a tool that tests your code in both <strong>Edit</strong> mode and <strong>Play</strong> mode, and also on target platforms such as <a href="Standalone.html">Standalone</a>, Android, or iOS.</p>

<p>To access the Unity Test Runner, go to <strong>Window</strong> &gt; <strong>General</strong> &gt; <strong>Test Runner</strong>.</p>

<figure>
<img src="../uploads/Main/UnityTestRunner-0.png" alt="">
</figure>

<p>The Unity Test Runner uses a Unity integration of the NUnit library, which is an open-source unit testing library for .Net languages. For more information about NUnit, see the <a href="http://www.nunit.org/">official NUnit website</a> and the <a href="https://github.com/nunit/docs/wiki/NUnit-Documentation">NUnit documentation on GitHub</a>.</p>

<p><a href="../ScriptReference/TestTools.UnityTestAttribute.html">UnityTestAttribute</a> is the main addition to the standard NUnit library for the Unity Test Runner. This is a type of unit test that allows you to skip a frame from within a test (which allows background tasks to finish). To use <code>UnityTestAttribute</code>:</p>

<ul>
<li><p>In <strong>Play</strong> mode: Execute <code>UnityTestAttribute</code> as a <a href="../ScriptReference/Coroutine.html">coroutine</a>.</p></li>
<li><p>In <strong>Edit</strong> mode: Execute <code>UnityTestAttribute</code> in the <a href="../ScriptReference/EditorApplication-update.html">EditorApplication.update</a> callback loop.</p></li>
</ul>

<h2>Known issues and limitations</h2>

<p>There are some known issues and limitations of the Unity Test Runner:</p>

<ul>
<li><p>The WebGL and WSA platforms do not support <code>UnityTestAttribute</code>.</p></li>
<li><p><code>UnityTest</code> does not support <a href="https://www.nunit.org/index.php?p=parameterizedTests&amp;r=2.5">Parameterized tests</a> (except for <code>ValueSource</code>).</p></li>
</ul>

<h2>How to use Unity Test Runner</h2>

<p>This page assumes you already have an understanding of unit testing and NUnit. If you are new to NUnit or would like more information, see to the <a href="https://github.com/nunit/docs/wiki/NUnit-Documentation">NUnit documentation on GitHub</a>.</p>

<p>To open the Unity Test Runner, open Unity and go to <strong>Window</strong> &gt; <strong>General</strong> &gt; <strong>Test Runner</strong>. If there are no tests in your Project, click the <strong>Create Test Script in current folder</strong> button to create a basic test script. This button is greyed out if adding a test script would result in a compilation error. The conditions for adding a test script are in the <a href="SpecialFolders.html">Editor</a> folder, or any folders using Assembly Definition files that reference test assemblies (NUnit, Unity Test Runner, and user script assemblies).</p>

<figure>
<img src="../uploads/Main/UnityTestRunner-1.png" alt="">
</figure>

<p>You can also create test scripts by navigating to <strong>Assets</strong> &gt; <strong>Create</strong> &gt; <strong>C# Test Script</strong>. This option is disabled if adding a test script would result in a compilation error.</p>

<p><strong>Note:</strong> Unity does not include test assemblies (NUnit, Unity TestRunner, and user script assemblies) when using the normal build pipeline, but does include them when using “Run on &lt;Platform&gt;” in the Test Runner Window.</p>

<h3>Testing in Edit mode</h3>

<p>In <strong>Edit</strong> mode, Unity runs tests from the Test Runner window.</p>

<p>Edit mode test scripts are defined by the file location you place them in. Valid locations:</p>

<ul>
<li><p>Project <a href="SpecialFolders.html">Editor</a> folder</p></li>
<li><p>Assembly Definition file that references test assemblies that are Editor-only</p></li>
<li><p>Precompiled assemblies that are in the Project’s <a href="SpecialFolders.html">Editor</a> folder</p></li>
</ul>

<p>Click the <strong>EditMode</strong> button, then click <strong>Create Test Script in current folder</strong> to create a basic test script. Open and edit this in your preferred script editing software as required.</p>

<p>Note: When running in <strong>Edit</strong> mode, execute <a href="../ScriptReference/TestTools.UnityTestAttribute.html">UnityTestAttribute</a> in the <a href="../ScriptReference/EditorApplication-update.html">EditorApplication.update</a> callback loop.</p>

<h3>Testing in Play mode</h3>

<p>You need to place Play mode test scripts in a folder that an Assembly Definition file includes. The Assembly Definition file needs to reference test assemblies (Nunit and Unity TestRunner). Pre-defined Unity assemblies (such as <em>Assembly-CSharp.dll</em>) do not reference the defined assembly. This Assembly Definition file also needs to reference the assembly you want to test. This means that it’s only possible to test code defined by other Assembly Definition files.</p>

<p>Unity does not include test assemblies in normal player builds; only when running through the Test Runner. If you need to test code in pre-defined assemblies, you can reference test assemblies from all the assemblies. However, you must manually remove these tests afterwards, so that Unity does not add them to the final player build.</p>

<p>为此需要执行以下操作：</p>

<ol>
<li><p>Save your project.</p></li>
<li><p>Go to <strong>Window</strong> &gt; <strong>General</strong> &gt; <strong>Test Runner.</strong></p></li>
<li><p>Click the small drop-down menu in the top-right of the window.</p></li>
<li><p>Click <strong>Enable playmode tests for all assemblies</strong>.</p></li>
<li><p>In the dialog box appears, click <strong>OK</strong> to manually restart the Editor.</p></li>
</ol>

<figure>
<img src="../uploads/Main/UnityTestRunner-2.png" alt="">
</figure>

<p><strong>Note:</strong> Enabling <strong>PlayMode</strong> tests for all assemblies includes additional assemblies in your Project’s build, which can increase your Project’s size as well as build time.</p>

<p>To create <strong>PlayMode</strong> test scripts, select <strong>PlayMode</strong> in the Test Runner window and click <strong>Create Test Script in current folder</strong>. This button is greyed out if adding the script would result in a compilation error. </p>

<p><strong>Note</strong>: Execute <a href="../ScriptReference/TestTools.UnityTestAttribute.html">UnityTestAttribute</a> as a <a href="../ScriptReference/Coroutine.html">coroutine</a> when running in <strong>Play</strong> mode.</p>

<hr>

<ul>
<li><span class="page-edit"> 2018–03–21 页面已修订并进行了<a href="DocumentationEditorialReview.html">编辑审查</a>
</span></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="LogFiles.html"></a></span><div class="tip">日志文件</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="PlaymodeTestFramework.html"></a></span><div class="tip">在 Unity Test Runner 中编写和执行测试</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2019 Unity Technologies. Publication 2018.4</div>
<div class="menu">
<a href="https://unity3d.com/learn">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
